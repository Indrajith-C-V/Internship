{% extends 'base.html' %}

{% block content %}
{% if not user.is_authenticated %}
    <!-- Carousel for Guests -->
    <div id="internshipCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80" class="d-block w-100" alt="Internships">
                <div class="carousel-caption">
                    <h1 class="display-3 fw-bold">Find Your Dream Internship</h1>
                    <p class="lead">Join thousands of students getting real-world experience</p>
                    <a href="{% url 'register' %}" class="btn btn-primary btn-lg">Get Started</a>
                </div>
            </div>
            <!-- Add more slides if you want -->
        </div>
    </div>
{% else %}
    <!-- Logged-in: Internship List -->
    <h1 class="display-5 fw-bold mb-4">Available Internships</h1>
    {% if internships %}
        <div class="row g-4">
            {% for internship in internships %}
                <div class="col-lg-6">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{{ internship.title }}</h5>
                            <p class="text-muted">{{ internship.company }} â€¢ {{ internship.location }}</p>
                            <p>{{ internship.description|truncatewords:30 }}</p>
                            <p><strong>Duration:</strong> {{ internship.duration }}</p>
                            <p><strong>Stipend:</strong> {{ internship.stipend|default:"Unpaid" }}</p>
                            <p><strong>Deadline:</strong> {{ internship.deadline }}</p>
                            <a href="{% url 'apply_internship' internship.pk %}" class="btn btn-primary">Apply Now</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No internships available at the moment.</p>
    {% endif %}
{% endif %}
{% endblock %}